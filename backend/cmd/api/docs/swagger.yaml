components:
  schemas:
    endpoints.OwnerModel:
      description: Owner object that can represent either personal or family ownership
      properties:
        etag:
          description: '@Description Entity tag for optimistic concurrency control'
          example: W/"123456789"
          type: string
        family_id:
          description: '@Description Family ID when an ownership type is family (required
            for family ownership)'
          example: 123e4567-e89b-12d3-a456-426614174000
          type: string
        type:
          description: '@Description Type of ownership (personal or family)'
          enum:
          - personal
          - family
          - system
          example: personal
          type: string
        userId:
          description: '@Description User ID when an ownership type is personal (required
            for personal ownership)'
          example: 123e4567-e89b-12d3-a456-426614174001
          type: string
      required:
      - etag
      - type
      type: object
    endpoints.PaginatedResponseModel-endpoints_ProviderModel:
      properties:
        data:
          description: Data contains the list of items for the current page
          items:
            $ref: '#/components/schemas/endpoints.ProviderModel'
          type: array
          uniqueItems: false
        length:
          description: Length represents the number of items in the current page
          type: integer
        total:
          description: Total represents the total number of items available
          type: integer
      required:
      - data
      - length
      - total
      type: object
    endpoints.PaginatedResponseModel-endpoints_familyModel:
      properties:
        data:
          description: Data contains the list of items for the current page
          items:
            $ref: '#/components/schemas/endpoints.familyModel'
          type: array
          uniqueItems: false
        length:
          description: Length represents the number of items in the current page
          type: integer
        total:
          description: Total represents the total number of items available
          type: integer
      required:
      - data
      - length
      - total
      type: object
    endpoints.PaginatedResponseModel-endpoints_labelModel:
      properties:
        data:
          description: Data contains the list of items for the current page
          items:
            $ref: '#/components/schemas/endpoints.labelModel'
          type: array
          uniqueItems: false
        length:
          description: Length represents the number of items in the current page
          type: integer
        total:
          description: Total represents the total number of items available
          type: integer
      required:
      - data
      - length
      - total
      type: object
    endpoints.PaginatedResponseModel-endpoints_subscriptionModel:
      properties:
        data:
          description: Data contains the list of items for the current page
          items:
            $ref: '#/components/schemas/endpoints.subscriptionModel'
          type: array
          uniqueItems: false
        length:
          description: Length represents the number of items in the current page
          type: integer
        total:
          description: Total represents the total number of items available
          type: integer
      required:
      - data
      - length
      - total
      type: object
    endpoints.PlanModel:
      properties:
        created_at:
          format: date-time
          type: string
        description:
          type: string
        etag:
          type: string
        id:
          type: string
        name:
          type: string
        prices:
          items:
            $ref: '#/components/schemas/endpoints.PriceModel'
          type: array
          uniqueItems: false
        updated_at:
          format: date-time
          type: string
      required:
      - created_at
      - etag
      - id
      - name
      - prices
      - updated_at
      type: object
    endpoints.PriceModel:
      properties:
        amount:
          type: number
        created_at:
          format: date-time
          type: string
        currency:
          type: string
        end_date:
          format: date-time
          type: string
        etag:
          type: string
        id:
          type: string
        start_date:
          format: date-time
          type: string
        updated_at:
          format: date-time
          type: string
      required:
      - amount
      - created_at
      - currency
      - etag
      - id
      - start_date
      - updated_at
      type: object
    endpoints.ProviderModel:
      properties:
        created_at:
          format: date-time
          type: string
        description:
          type: string
        etag:
          type: string
        icon_url:
          type: string
        id:
          type: string
        labels:
          items:
            type: string
          type: array
          uniqueItems: false
        name:
          type: string
        owner:
          $ref: '#/components/schemas/endpoints.OwnerModel'
        plans:
          items:
            $ref: '#/components/schemas/endpoints.PlanModel'
          type: array
          uniqueItems: false
        pricing_page_url:
          type: string
        updated_at:
          format: date-time
          type: string
        url:
          type: string
      required:
      - created_at
      - etag
      - id
      - labels
      - name
      - owner
      - plans
      - updated_at
      type: object
    endpoints.createFamilyMemberModel:
      properties:
        created_at:
          format: date-time
          type: string
        email:
          type: string
        id:
          type: string
        is_kid:
          type: boolean
        name:
          type: string
      required:
      - name
      type: object
    endpoints.createFamilyModel:
      properties:
        created_at:
          format: date-time
          type: string
        have_joint_account:
          type: boolean
        id:
          type: string
        name:
          type: string
      required:
      - name
      type: object
    endpoints.createLabelModel:
      properties:
        color:
          type: string
        created_at:
          format: date-time
          type: string
        id:
          type: string
        name:
          type: string
        owner:
          $ref: '#/components/schemas/endpoints.editableOwnerModel'
      required:
      - color
      - name
      - owner
      type: object
    endpoints.createPlanModel:
      properties:
        created_at:
          format: date-time
          type: string
        description:
          type: string
        id:
          type: string
        name:
          type: string
      required:
      - name
      type: object
    endpoints.createPriceModel:
      description: Price information for a plan
      properties:
        amount:
          type: number
        created_at:
          format: date-time
          type: string
        currency:
          type: string
        end_date:
          format: date-time
          type: string
        id:
          type: string
        start_date:
          format: date-time
          type: string
      required:
      - amount
      - currency
      - start_date
      type: object
    endpoints.createProviderModel:
      properties:
        created_at:
          format: date-time
          type: string
        description:
          type: string
        icon_url:
          type: string
        id:
          type: string
        labels:
          items:
            type: string
          type: array
          uniqueItems: false
        name:
          type: string
        owner:
          $ref: '#/components/schemas/endpoints.editableOwnerModel'
        pricing_page_url:
          type: string
        url:
          type: string
      required:
      - labels
      - name
      - owner
      type: object
    endpoints.createSubscriptionModel:
      properties:
        created_at:
          type: string
        custom_recurrency:
          type: integer
        end_date:
          format: date-time
          type: string
        free_trial_days:
          type: integer
        friendly_name:
          type: string
        id:
          type: string
        owner:
          $ref: '#/components/schemas/endpoints.editableOwnerModel'
        payer:
          $ref: '#/components/schemas/endpoints.editableSubscriptionPayerModel'
        plan_id:
          type: string
        price_id:
          type: string
        recurrency:
          type: string
        service_provider_id:
          type: string
        service_users:
          items:
            type: string
          type: array
          uniqueItems: false
        start_date:
          format: date-time
          type: string
      required:
      - owner
      - plan_id
      - price_id
      - recurrency
      - service_provider_id
      - start_date
      type: object
    endpoints.editableOwnerModel:
      properties:
        family_id:
          type: string
        type:
          type: string
      required:
      - type
      type: object
    endpoints.editableSubscriptionPayerModel:
      properties:
        family_id:
          type: string
        memberId:
          type: string
        type:
          type: string
      required:
      - family_id
      - type
      type: object
    endpoints.familyMemberModel:
      description: Family member object containing member information
      properties:
        created_at:
          description: '@Description Timestamp when the member was created'
          format: date-time
          type: string
        etag:
          description: '@Description Entity tag for optimistic concurrency control'
          example: W/"123456789"
          type: string
        family_id:
          description: '@Description ID of the family this member belongs to'
          example: 123e4567-e89b-12d3-a456-426614174000
          type: string
        id:
          description: '@Description Unique identifier for the family member'
          example: 123e4567-e89b-12d3-a456-426614174001
          type: string
        is_kid:
          description: '@Description Whether this member is a child (affects permissions
            and features)'
          example: false
          type: boolean
        name:
          description: '@Description Name of the family member'
          example: John Smith
          type: string
        updated_at:
          description: '@Description Timestamp when the member was last updated'
          format: date-time
          type: string
      required:
      - created_at
      - etag
      - family_id
      - id
      - is_kid
      - name
      - updated_at
      type: object
    endpoints.familyModel:
      description: Family object containing family information and members
      properties:
        created_at:
          description: Timestamp when the family was created
          format: date-time
          type: string
        etag:
          description: Entity tag for optimistic concurrency control
          example: W/"123456789"
          type: string
        have_joint_account:
          description: Whether the family has a joint account
          example: false
          type: boolean
        id:
          description: Unique identifier for the family
          example: 123e4567-e89b-12d3-a456-426614174000
          type: string
        is_owner:
          description: Whether the current user is the owner of this family
          example: true
          type: boolean
        members:
          description: List of family members
          items:
            $ref: '#/components/schemas/endpoints.familyMemberModel'
          type: array
          uniqueItems: false
        name:
          description: Name of the family
          example: Smith Family
          type: string
        updated_at:
          description: Timestamp when the family was last updated
          format: date-time
          type: string
      required:
      - created_at
      - etag
      - have_joint_account
      - id
      - is_owner
      - members
      - name
      - updated_at
      type: object
    endpoints.httpError:
      properties:
        message:
          type: string
      required:
      - message
      type: object
    endpoints.labelModel:
      properties:
        color:
          type: string
        created_at:
          format: date-time
          type: string
        etag:
          type: string
        id:
          type: string
        name:
          type: string
        owner:
          $ref: '#/components/schemas/endpoints.OwnerModel'
        updated_at:
          format: date-time
          type: string
      required:
      - color
      - created_at
      - etag
      - id
      - name
      - owner
      - updated_at
      type: object
    endpoints.patchFamilyMemberModel:
      description: Model for updating family member details
      properties:
        id:
          description: Optional member ID. If not provided, new member will be created
          type: string
        is_kid:
          description: Indicates if the member is a kid
          type: boolean
        name:
          description: member's name
          type: string
        updated_at:
          description: Optional timestamp of the last update
          format: date-time
          type: string
      required:
      - is_kid
      - name
      type: object
    endpoints.patchFamilyModel:
      description: Model for updating family details
      properties:
        id:
          description: Family ID
          type: string
        members:
          description: List of family members
          items:
            $ref: '#/components/schemas/endpoints.patchFamilyMemberModel'
          type: array
          uniqueItems: false
        name:
          description: Family name
          type: string
        updated_at:
          description: Optional timestamp of the last update
          format: date-time
          type: string
      required:
      - id
      - name
      type: object
    endpoints.patchSubscriptionModel:
      properties:
        custom_recurrency:
          type: integer
        end_date:
          format: date-time
          type: string
        free_trial_days:
          type: integer
        friendly_name:
          type: string
        id:
          type: string
        owner:
          $ref: '#/components/schemas/endpoints.editableOwnerModel'
        payer:
          $ref: '#/components/schemas/endpoints.editableSubscriptionPayerModel'
        plan_id:
          type: string
        price_id:
          type: string
        recurrency:
          type: string
        service_provider_id:
          type: string
        service_users:
          items:
            type: string
          type: array
          uniqueItems: false
        start_date:
          format: date-time
          type: string
        updated_at:
          format: date-time
          type: string
      required:
      - owner
      - plan_id
      - price_id
      - recurrency
      - service_provider_id
      - start_date
      type: object
    endpoints.subscriptionModel:
      properties:
        created_at:
          format: date-time
          type: string
        custom_recurrency:
          type: integer
        end_date:
          format: date-time
          type: string
        etag:
          type: string
        free_trial_days:
          type: integer
        friendly_name:
          type: string
        id:
          type: string
        owner:
          $ref: '#/components/schemas/endpoints.OwnerModel'
        payer:
          $ref: '#/components/schemas/endpoints.subscriptionPayerModel'
        plan_id:
          type: string
        price_id:
          type: string
        recurrency:
          type: string
        service_provider_id:
          type: string
        service_users:
          items:
            type: string
          type: array
          uniqueItems: false
        start_date:
          format: date-time
          type: string
        updated_at:
          format: date-time
          type: string
      required:
      - created_at
      - etag
      - id
      - owner
      - plan_id
      - price_id
      - recurrency
      - service_provider_id
      - start_date
      - updated_at
      type: object
    endpoints.subscriptionPayerModel:
      properties:
        etag:
          type: string
        family_id:
          type: string
        memberId:
          type: string
        type:
          type: string
      required:
      - etag
      - family_id
      - type
      type: object
    endpoints.updateFamilyMemberModel:
      properties:
        id_kid:
          type: boolean
        name:
          type: string
        updated_at:
          format: date-time
          type: string
      required:
      - id_kid
      - name
      type: object
    endpoints.updateFamilyModel:
      properties:
        name:
          type: string
        updated_at:
          format: date-time
          type: string
      required:
      - name
      type: object
    endpoints.updateLabelModel:
      properties:
        color:
          type: string
        name:
          type: string
        updated_at:
          format: date-time
          type: string
      required:
      - color
      - name
      type: object
    endpoints.updatePlanModel:
      properties:
        description:
          type: string
        name:
          type: string
        updateAt:
          type: string
      type: object
    endpoints.updatePriceModel:
      properties:
        amount:
          type: number
        created_at:
          format: date-time
          type: string
        currency:
          type: string
        end_date:
          format: date-time
          type: string
        start_date:
          format: date-time
          type: string
      required:
      - amount
      - currency
      - start_date
      type: object
    endpoints.updateSubscriptionModel:
      properties:
        custom_recurrency:
          type: integer
        end_date:
          format: date-time
          type: string
        free_trial_days:
          type: integer
        friendly_name:
          type: string
        owner:
          $ref: '#/components/schemas/endpoints.editableOwnerModel'
        payer:
          $ref: '#/components/schemas/endpoints.editableSubscriptionPayerModel'
        plan_id:
          type: string
        price_id:
          type: string
        recurrency:
          type: string
        service_provider_id:
          type: string
        service_users:
          items:
            type: string
          type: array
          uniqueItems: false
        start_date:
          format: date-time
          type: string
        updated_at:
          format: date-time
          type: string
      required:
      - owner
      - plan_id
      - price_id
      - recurrency
      - service_provider_id
      - start_date
      type: object
externalDocs:
  description: ""
  url: ""
info:
  contact:
    email: support@mistribe.com
    name: API Support
    url: http://subtracker.mistribe.com/support
  description: This api provide HTTPRest endpoints for the application SubTracker.
  license:
    name: Apache 2.0
    url: http://www.apache.org/licenses/LICENSE-2.0.html
  termsOfService: http://subtracker.mistribe.com/terms/
  title: SubTracker API
  version: "1.0"
openapi: 3.1.0
paths:
  /families:
    get:
      description: Retrieve a paginated list of families for the authenticated user
      parameters:
      - description: 'Number of items per page (default: 10)'
        in: query
        name: size
        schema:
          type: integer
      - description: 'Page number (default: 1)'
        in: query
        name: page
        schema:
          type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.PaginatedResponseModel-endpoints_familyModel'
          description: Paginated list of families
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Bad Request - Invalid query parameters
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Unauthorized - Invalid user authentication
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Internal Server Error
      summary: Get all families
      tags:
      - family
    patch:
      description: Update or create a family with specified members. If family doesn't
        exist, it will be created.
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/endpoints.patchFamilyModel'
        description: Family update data with members
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.familyModel'
          description: Successfully updated family
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Bad Request - Invalid input data
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Unauthorized - Invalid user authentication
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Family not found
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Internal Server Error
      summary: Patch family with members
      tags:
      - family
    post:
      description: Create a new family with the authenticated user as the owner and
        initial member
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/endpoints.createFamilyModel'
        description: Family creation data
        required: true
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.familyModel'
          description: Successfully created family
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Bad Request - Invalid input data
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Unauthorized - Invalid user authentication
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Internal Server Error
      summary: Create a new family
      tags:
      - family
  /families/{familyId}:
    delete:
      description: Permanently delete a family and all its members
      parameters:
      - description: Family ID (UUID format)
        in: path
        name: familyId
        required: true
        schema:
          type: string
      responses:
        "204":
          description: No Content - Family successfully deleted
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Bad Request - Invalid family ID format
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Family not found
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Internal Server Error
      summary: Delete family by ID
      tags:
      - family
    put:
      description: Update family information such as name and other details
      parameters:
      - description: Family ID (UUID format)
        in: path
        name: familyId
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/endpoints.updateFamilyModel'
        description: Updated family data
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.familyModel'
          description: Successfully updated family
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Bad Request - Invalid input data or family ID
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Unauthorized - Invalid user authentication
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Family not found
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Internal Server Error
      summary: Update a family
      tags:
      - family
  /families/{familyId}/members:
    post:
      description: Add a new member to an existing family
      parameters:
      - description: Family ID (UUID format)
        in: path
        name: familyId
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/endpoints.createFamilyMemberModel'
        description: Family member creation data
        required: true
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.familyModel'
          description: Successfully added family member
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Bad Request - Invalid input data or family ID
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Unauthorized - Invalid user authentication
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Family not found
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Internal Server Error
      summary: Add a new family member
      tags:
      - family
  /families/{familyId}/members/{id}:
    delete:
      description: Permanently delete a family member from a family
      parameters:
      - description: Family ID (UUID format)
        in: path
        name: familyId
        required: true
        schema:
          type: string
      - description: Family member ID (UUID format)
        in: path
        name: id
        required: true
        schema:
          type: string
      responses:
        "204":
          description: No Content - Family member successfully deleted
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Bad Request - Invalid ID format
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Family or family member not found
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Internal Server Error
      summary: Delete family member by ID
      tags:
      - family
    put:
      description: Update an existing family member's information such as name and
        kid status
      parameters:
      - description: Family ID (UUID format)
        in: path
        name: familyId
        required: true
        schema:
          type: string
      - description: Family member ID (UUID format)
        in: path
        name: id
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/endpoints.updateFamilyMemberModel'
        description: Updated family member data
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.familyModel'
          description: Successfully updated family member
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Bad Request - Invalid input data or ID format
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Unauthorized - Invalid user authentication
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Family or family member not found
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Internal Server Error
      summary: Update family member by ID
      tags:
      - family
  /families/{id}:
    get:
      description: Retrieve a family and its members by family ID
      parameters:
      - description: Family ID (UUID format)
        in: path
        name: id
        required: true
        schema:
          type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.familyModel'
          description: Successfully retrieved family
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Bad Request - Invalid ID format
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Unauthorized - Invalid user authentication
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Family not found
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Internal Server Error
      summary: Get family by ID
      tags:
      - family
  /healthz/live:
    get:
      description: Returns the health status of the application
      responses:
        "200":
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
          description: Health status
      summary: Health check endpoint
      tags:
      - health
  /labels:
    get:
      description: Retrieve a paginated list of labels with optional filtering by
        owner type
      parameters:
      - description: Owner types to filter by (system,personal,family). Can be provided
          multiple times.
        in: query
        name: owner_type
        schema:
          items:
            type: string
          type: array
      - description: 'Number of items per page (default: 10)'
        in: query
        name: size
        schema:
          type: integer
      - description: 'Page number (default: 1)'
        in: query
        name: page
        schema:
          type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.PaginatedResponseModel-endpoints_labelModel'
          description: Paginated list of labels
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Bad Request - Invalid query parameters
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Internal Server Error
      summary: Get all labels
      tags:
      - label
    post:
      description: Create a new label with specified name, color, and owner information
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/endpoints.createLabelModel'
        description: Label creation data
        required: true
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.labelModel'
          description: Successfully created label
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Bad Request - Invalid input data
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Unauthorized - Invalid user authentication
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Internal Server Error
      summary: Create a new label
      tags:
      - label
  /labels/{id}:
    delete:
      description: Permanently delete a label by its unique identifier
      parameters:
      - description: Label ID (UUID format)
        in: path
        name: id
        required: true
        schema:
          type: string
      responses:
        "204":
          description: No Content - Label successfully deleted
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Bad Request - Invalid ID format
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Label not found
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Internal Server Error
      summary: Delete label by ID
      tags:
      - label
    get:
      description: Retrieve a single label by its unique identifier
      parameters:
      - description: Label ID (UUID format)
        in: path
        name: id
        required: true
        schema:
          type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.labelModel'
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Bad Request - Invalid ID format
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Label not found
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Internal Server Error
      summary: Get label by ID
      tags:
      - label
    put:
      description: Update an existing label's name and color by its unique identifier
      parameters:
      - description: Label ID (UUID format)
        in: path
        name: id
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/endpoints.updateLabelModel'
        description: Updated label data
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.labelModel'
          description: Successfully updated label
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Bad Request - Invalid ID format or input data
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Label not found
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Internal Server Error
      summary: Update label by ID
      tags:
      - label
  /labels/default:
    get:
      description: Retrieves a list of default system labels available to all users
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/endpoints.labelModel'
                type: array
          description: List of default labels
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Internal Server Error
      summary: Get default labels
      tags:
      - label
  /providers:
    get:
      description: Retrieve a paginated list of all providers with their plans and
        prices
      parameters:
      - description: 'Page number (default: 1)'
        in: query
        name: page
        schema:
          type: integer
      - description: 'Items per page (default: 10)'
        in: query
        name: size
        schema:
          type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.PaginatedResponseModel-endpoints_ProviderModel'
          description: Paginated list of providers
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Bad Request - Invalid query parameters
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Internal Server Error
      summary: Get all providers
      tags:
      - providers
    post:
      description: Create a new service provider with labels and owner information
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/endpoints.createProviderModel'
        description: Provider creation data
        required: true
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.ProviderModel'
          description: Successfully created provider
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Bad Request - Invalid input data
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Unauthorized - Invalid user authentication
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Internal Server Error
      summary: Create a new provider
      tags:
      - providers
  /providers/{providerId}:
    delete:
      description: Permanently delete a provider and all its associated plans and
        prices
      parameters:
      - description: Provider ID (UUID format)
        in: path
        name: providerId
        required: true
        schema:
          type: string
      responses:
        "204":
          description: No Content - Provider successfully deleted
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Bad Request - Invalid provider ID format
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Provider not found
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Internal Server Error
      summary: Delete provider by ID
      tags:
      - providers
    get:
      description: Retrieve a single provider with all its plans and prices by ID
      parameters:
      - description: Provider ID (UUID format)
        in: path
        name: providerId
        required: true
        schema:
          type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.ProviderModel'
          description: Successfully retrieved provider
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Bad Request - Invalid provider ID format
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Provider not found
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Internal Server Error
      summary: Get provider by ID
      tags:
      - providers
  /providers/{providerId}/plans:
    post:
      description: Create a new subscription plan for an existing provider
      parameters:
      - description: Provider ID (UUID format)
        in: path
        name: providerId
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/endpoints.createPlanModel'
        description: Plan creation data
        required: true
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.PlanModel'
          description: Successfully created plan
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Bad Request - Invalid input data or provider ID
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Provider not found
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Internal Server Error
      summary: Create a new provider plan
      tags:
      - providers
  /providers/{providerId}/plans/{planId}:
    delete:
      description: Permanently delete a provider plan and all its associated prices
      parameters:
      - description: Provider ID (UUID format)
        in: path
        name: providerId
        required: true
        schema:
          type: string
      - description: Plan ID (UUID format)
        in: path
        name: planId
        required: true
        schema:
          type: string
      responses:
        "204":
          description: No Content - Plan successfully deleted
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Bad Request - Invalid ID format
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Provider or plan not found
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Internal Server Error
      summary: Delete provider plan by ID
      tags:
      - providers
    put:
      description: Update an existing provider plan's information
      parameters:
      - description: Provider ID (UUID format)
        in: path
        name: providerId
        required: true
        schema:
          type: string
      - description: Plan ID (UUID format)
        in: path
        name: planId
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/endpoints.updatePlanModel'
        description: Updated plan data
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.PlanModel'
          description: Successfully updated plan
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Bad Request - Invalid input data or IDs
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Provider or plan not found
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Internal Server Error
      summary: Update provider plan by ID
      tags:
      - providers
  /providers/{providerId}/plans/{planId}/prices:
    post:
      description: Create a new pricing option for a specific provider plan
      parameters:
      - description: Provider ID (UUID format)
        in: path
        name: providerId
        required: true
        schema:
          type: string
      - description: Plan ID (UUID format)
        in: path
        name: planId
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/endpoints.createPriceModel'
        description: Price creation data
        required: true
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.PriceModel'
          description: Successfully created price
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Bad Request - Invalid input data or IDs
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Provider or plan not found
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Internal Server Error
      summary: Create a new provider price
      tags:
      - providers
  /providers/{providerId}/plans/{planId}/prices/{priceId}:
    delete:
      description: Permanently delete a specific price from a provider plan
      parameters:
      - description: Provider ID (UUID format)
        in: path
        name: providerId
        required: true
        schema:
          type: string
      - description: Plan ID (UUID format)
        in: path
        name: planId
        required: true
        schema:
          type: string
      - description: Price ID (UUID format)
        in: path
        name: priceId
        required: true
        schema:
          type: string
      responses:
        "204":
          description: No Content - Price successfully deleted
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Bad Request - Invalid ID format
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Provider, plan, or price not found
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Internal Server Error
      summary: Delete provider price by ID
      tags:
      - providers
    put:
      description: Update an existing price for a specific provider plan
      parameters:
      - description: Provider ID (UUID format)
        in: path
        name: providerId
        required: true
        schema:
          type: string
      - description: Plan ID (UUID format)
        in: path
        name: planId
        required: true
        schema:
          type: string
      - description: Price ID (UUID format)
        in: path
        name: priceId
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/endpoints.updatePriceModel'
        description: Updated price data
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.PriceModel'
          description: Successfully updated price
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Bad Request - Invalid input data or IDs
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Provider, plan, or price not found
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Internal Server Error
      summary: Update provider price by ID
      tags:
      - providers
  /subscriptions:
    get:
      description: Retrieve a paginated list of all subscriptions for the authenticated
        user
      parameters:
      - description: 'Number of items per page (default: 10)'
        in: query
        name: size
        schema:
          type: integer
      - description: 'Page number (default: 1)'
        in: query
        name: page
        schema:
          type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.PaginatedResponseModel-endpoints_subscriptionModel'
          description: Paginated list of subscriptions
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Bad Request - Invalid query parameters
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Internal Server Error
      summary: Get all subscriptions
      tags:
      - subscription
    patch:
      description: Update or create a subscription with complete details. If subscription
        doesn't exist, it will be created.
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/endpoints.patchSubscriptionModel'
        description: Complete subscription data
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.subscriptionModel'
          description: Successfully updated subscription
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Bad Request - Invalid input data
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Unauthorized - Invalid user authentication
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Subscription not found
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Internal Server Error
      summary: Patch subscription
      tags:
      - subscription
    post:
      description: Create a new subscription with provider, plan, pricing, and payment
        information
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/endpoints.createSubscriptionModel'
        description: Subscription creation data
        required: true
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.subscriptionModel'
          description: Successfully created subscription
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Bad Request - Invalid input data
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Unauthorized - Invalid user authentication
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Internal Server Error
      summary: Create a new subscription
      tags:
      - subscription
  /subscriptions/{subscriptionId}:
    delete:
      description: Permanently delete an existing subscription
      parameters:
      - description: Subscription ID (UUID format)
        in: path
        name: subscriptionId
        required: true
        schema:
          type: string
      responses:
        "204":
          description: No Content - Subscription successfully deleted
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Bad Request - Invalid subscription ID format
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Subscription not found
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Internal Server Error
      summary: Delete subscription by ID
      tags:
      - subscription
    get:
      description: Retrieve a single subscription with all its details including provider,
        plan, and pricing information
      parameters:
      - description: Subscription ID (UUID format)
        in: path
        name: subscriptionId
        required: true
        schema:
          type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.subscriptionModel'
          description: Successfully retrieved subscription
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Bad Request - Invalid subscription ID format
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Subscription not found
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Internal Server Error
      summary: Get subscription by ID
      tags:
      - subscription
    put:
      description: Update an existing subscription's details including provider, plan,
        pricing, and payment information
      parameters:
      - description: Subscription ID (UUID format)
        in: path
        name: subscriptionId
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/endpoints.updateSubscriptionModel'
        description: Updated subscription data
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.subscriptionModel'
          description: Successfully updated subscription
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Bad Request - Invalid input data or subscription ID
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Unauthorized - Invalid user authentication
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Subscription not found
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/endpoints.httpError'
          description: Internal Server Error
      summary: Update subscription by ID
      tags:
      - subscription
servers:
- description: Production server
  url: https://api.subtracker.mistribe.com
- description: Development server
  url: http://localhost:8080
